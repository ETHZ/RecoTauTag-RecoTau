include "RecoJets/JetAssociationProducers/data/ic5PFJetTracksAssociatorAtVertex.cfi"
include "RecoJets/JetProducers/data/iterativeCone5PFJets.cff"
include "RecoTauTag/RecoTau/data/PFRecoTauTagInfoProducer.cfi"   
include "RecoTauTag/RecoTau/data/PFRecoTauProducer.cfi"

#Inside out algorithm
module pfRecoTauProducerInsideOut = pfRecoTauProducer from "RecoTauTag/RecoTau/data/PFRecoTauProducer.cfi"
replace pfRecoTauProducerInsideOut.TrackerSignalConeMetric      = "InsideOut"
replace pfRecoTauProducerInsideOut.TrackerSignalConeSizeFormula = "4.0/ET"
replace pfRecoTauProducerInsideOut.TrackerSignalConeSize_min    = 0.02
replace pfRecoTauProducerInsideOut.TrackerSignalConeSize_max    = 0.4
replace pfRecoTauProducerInsideOut.TrackerIsolConeMetric        = "area"  # *
replace pfRecoTauProducerInsideOut.TrackerIsolConeSizeFormula   = "0.70"  # **
replace pfRecoTauProducerInsideOut.TrackerIsolConeSize_min      = 0.00
replace pfRecoTauProducerInsideOut.TrackerIsolConeSize_max      = 0.80
replace pfRecoTauProducerInsideOut.ECALSignalConeMetric         = "InsideOut"
replace pfRecoTauProducerInsideOut.ECALSignalConeSizeFormula    = "5.0/ET"
replace pfRecoTauProducerInsideOut.ECALSignalConeSize_min       = 0.04
replace pfRecoTauProducerInsideOut.ECALSignalConeSize_max       = 0.4
replace pfRecoTauProducerInsideOut.GammaCand_minPt              = 1.0
replace pfRecoTauProducerInsideOut.ChargedHadrCand_minPt        = 1.0

module pfRecoTauProducerInsideOutStrictLimits = pfRecoTauProducer from "RecoTauTag/RecoTau/data/PFRecoTauProducer.cfi"
replace pfRecoTauProducerInsideOutStrictLimits.TrackerSignalConeMetric      = "InsideOut"
replace pfRecoTauProducerInsideOutStrictLimits.TrackerSignalConeSizeFormula = "5.0/ET"
replace pfRecoTauProducerInsideOutStrictLimits.TrackerSignalConeSize_min    = 0.07
replace pfRecoTauProducerInsideOutStrictLimits.TrackerSignalConeSize_max    = 0.15
replace pfRecoTauProducerInsideOutStrictLimits.ECALSignalConeMetric         = "InsideOut"
replace pfRecoTauProducerInsideOutStrictLimits.ECALSignalConeSizeFormula    = "5.0/ET"
replace pfRecoTauProducerInsideOutStrictLimits.ECALSignalConeSize_min       = 0.07
replace pfRecoTauProducerInsideOutStrictLimits.ECALSignalConeSize_max       = 0.15
replace pfRecoTauProducerInsideOutStrictLimits.GammaCand_minPt              = 1.0
replace pfRecoTauProducerInsideOutStrictLimits.ChargedHadrCand_minPt        = 1.0

module pfRecoTauProducerInsideOutStaticAxis = pfRecoTauProducer from "RecoTauTag/RecoTau/data/PFRecoTauProducer.cfi"
replace pfRecoTauProducerInsideOutStaticAxis.TrackerSignalConeMetric      = "InsideOutStaticAxis"
replace pfRecoTauProducerInsideOutStaticAxis.TrackerSignalConeSizeFormula = "5.0/ET"
replace pfRecoTauProducerInsideOutStaticAxis.TrackerSignalConeSize_min    = 0.02
replace pfRecoTauProducerInsideOutStaticAxis.TrackerSignalConeSize_max    = 0.4
replace pfRecoTauProducerInsideOutStaticAxis.TrackerIsolConeMetric        = "area"  # *
replace pfRecoTauProducerInsideOutStaticAxis.TrackerIsolConeSizeFormula   = "0.70"  # **
replace pfRecoTauProducerInsideOutStaticAxis.TrackerIsolConeSize_min      = 0.00
replace pfRecoTauProducerInsideOutStaticAxis.TrackerIsolConeSize_max      = 0.80
replace pfRecoTauProducerInsideOutStaticAxis.ECALSignalConeMetric         = "InsideOut"
replace pfRecoTauProducerInsideOutStaticAxis.ECALSignalConeSizeFormula    = "5.0/ET"
replace pfRecoTauProducerInsideOutStaticAxis.ECALSignalConeSize_min       = 0.04
replace pfRecoTauProducerInsideOutStaticAxis.ECALSignalConeSize_max       = 0.4
replace pfRecoTauProducerInsideOutStaticAxis.GammaCand_minPt              = 1.0
replace pfRecoTauProducerInsideOutStaticAxis.ChargedHadrCand_minPt        = 0.6

sequence PFTau = {particleFlowJetCandidates,iterativeCone5PFJets,ic5PFJetTracksAssociatorAtVertex,pfRecoTauTagInfoProducer,pfRecoTauProducer} 

